<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ghibli</title>
  <link href="./css/reset.css" rel="stylesheet">
  <link href="./css/event.css" rel="stylesheet">
</head>
<body>
  <div id="container" class="flex flex-direction-column absolute">
    <!-- ***랜턴이미지*** -->
    <div id="lantern" class="absolute"></div>




    <!-- ***배경*** -->
    <div id="bg" class="absolute"></div>
    


    
    <!-- ***헤더영역*** -->
    <div id="header-wrap" class="flex space-between">
      <header class="flex relative">
        <div id="left" class="flex align-items-center">
          <div id="hamburger">
            <a href="#" class="block">
              <img src="./img/icon/hamburger.png" alt="menu">
            </a>
          </div>
        </div>
        <div id="logo">
          <a href="./index.html">
            <img src="./img/logo/ghibli_logo.png" alt="logo">
          </a>
        </div>
      </header>
    </div> 
    <!-- 메뉴(메뉴 버튼 클릭시 나옴) -->
    <div id="menu" class="absolute">
      <ul>
        <li>
          <a href="#">
            <span>NEWS</span>
          </a>
        </li>
        <li>
          <a href="./event.html">
            <span>EVENT</span>
          </a>
        </li>
        <li>
          <a href="#">
            <span>BOOK</span>
          </a>
        </li>
        <li>
          <a href="./film.html">
            <span>FILM</span>
          </a>
        </li>
        <li>
          <a href="#">
            <span>ABOUT</span>
          </a>
        </li>
        <li>
          <a href="#">
            <span>HELP</span>
          </a>
        </li>
      </ul>
    </div>
    <!-- 푸터(메뉴 버튼 클릭시 나옴) -->
    <footer id="footer" class="absolute">
      <span>&copy; 2005-2022 STUDIO GHIBLI Inc</span>
      <span>·</span>
      <a href="#">Terms of use</a>
      <span>·</span>
      <a href="#">Contact</a>
      <span>·</span>
      <a href="#">Rss feed</a>
    </footer>
    




    <!-- ***사이드메뉴*** -->
    <section id="side-menu" class="relative">
      <h2 class="none">side-menu</h2>
      <ul id="side-menu-ul" class="list-style-none">
        <li data-index="0">
          <a href="#" class="block">ONGOING</a>
        </li>
        <li data-index="1">
          <a href="#" class="block">CLOSED</a>
        </li>
      </ul>
    </section>




    <!-- ***영화정보*** -->
    <section id="film" class="flex absolute align-items-center justify-content-center">
      <h2 class="none">film-info</h2>
      <div id="content" class="flex justify-content-center">
        <!-- 포스터 -->
        <div id="poster" class="hidden">
          <img src="./img/poster/howl.jpg" alt="howl">
        </div>
        <!-- 정보 -->
        <div id="info">
          <ul>
            <li>
              <span>원작</span>
              <strong>다이애나-윈 존스</strong>
            </li>
            <li>
              <span>각본·감독</span>
              <strong>미야자키 하야오</strong>
            </li>
            <li>
              <span>프로듀서</span>
              <strong>스즈키 토시오</strong>
            </li>
            <li>
              <span>음악</span>
              <strong>히사이시 조</strong>
            </li>
            <li>
              <span>주제가</span>
              <strong>바이쇼 오치 에코</strong>
            </li>
            <li>
              <span>목소리 출연</span>
              <strong>바이쇼 오치 에코·키무라 타쿠야·미와 아키히로</strong>
            </li>
            <li>
              <span></span>
              <strong>가슈 우인 타츠야·카미키 류노스케·오오 이즈미 히로시</strong>
            </li>
            <li>
              <span></span>
              <strong>하라다 다이지로·카토오 하루코</strong>
            </li>
            <li>
              <span>상영 시간</span>
              <strong>약 119분</strong>
            </li>
            <li>
              <span>배급</span>
              <strong>도호</strong>
            </li>
            <li>
              <span>개봉일</span>
              <strong>2004.11.20 (토)</strong>
            </li>
          </ul>
        </div>
      </div>
    </section>




    <!-- ***메뉴토글*** -->
    <script src="./js/menu.js"></script>
    <div id="menu-bg" class="absolute"></div>




    <!-- ***뮤직플레이어*** -->
    <div id="music-player" class="absolute">
      <div id="album-art" class="hidden relative">
        <img src="img/music/ponyo040.jpg" alt="ponyo">
      </div>
      <div id="music-info" class="flex absolute align-items-center">
        <div id="text">
          <h1>Ponyo on the Cliff by the Sea</h1>
          <p>Fujioka Fujimaki, Ohashi Nozomi</p>
        </div> 
        <div id="play-button"></div>
      </div>
      <div id="play-line"></div>
      <div id="play-control" class="absolute">
        <img src="./img/music/play1.png" alt="play-control">
      </div>
    </div>
  </div>




  <!-- ***슬라이드(이벤트 리스트)*** -->
  <div id="slide" class="absolute flex justify-content-center">
    <ul id="slide-ul" class="flex">
      <li id="slide1" class="slide-li flex justify-content-end">
        <div class="banner flex justify-content-end">
          <img src="./img/event/Ghibli_exhibition.png" alt="banner1">
        </div>
        <div class="slide-text flex align-items-end flex-direction-column">
          <strong class="slide-title block">Toshio SUZUKI Ghibli exhibition</strong>
          <span class="place block">The Museum of Kyoto(Kyoto Prefecture)</span>
          <p class="date">
            2022.04.23(Sat)- 2022.06.19(Sun)
          </p>
          <p class="explain">
            Takahata Isao ・ Miyazaki and the Kata-mai (literally, " both have sent a bunch of animated film out in the world along with Studio Ghibli and producers Toshio Suzuki 
            producer) draw attention to an exhibition.
          </p>
        </div>
        <div class="button">
          More
        </div>
      </li>
    </ul>
  </div>
  <!-- 컨트롤(페이저) -->
  <div id="controls" class="flex absolute space-between">
    <div id="prev" class="swapBtn">
      <img src="./img/icon/chevron_left.png" alt="prev">
    </div>
    <div id="pager">
      <div id="cur-pos" class="inline-block">1</div>
      <span>/</span>
      <div id="total-page" class="inline-block">10</div>
    </div>
    <div id="next" class="swapBtn">
      <img src="./img/icon/chevron_right.png" alt="next">
    </div>
  </div>
  <!-- 슬라이드 자바스크립트 -->
  <script>
      const liItems = document.querySelectorAll('#slide-ul li');
      const next = document.querySelector('#next');
      const prev = document.querySelector('#prev');

      for(let i = 0; i < liItems.length; i++) {
        liItems[i].style.display = 'none';
        liItems[0].style.display = 'block';
      }
      let slideIndex = 0;
      next.addEventListener('click', function() {
        if(slideIndex < liItems.length) {
          for(let i = 0; i < liItems.length; i++) {
            if(i !== slideIndex) {
              liItems[i].style.display = "none";
            } else {
              liItems[i].style.display = "block";
              
            }
          }
          slideIndex++;
        } else {
          slideIndex = 0;
        }
      });
  </script>




  <!-- ***페이드인 - 윈도우 로드***  -->
  <div id="movie-bg" class="absolute"></div>




  <!-- ***사이드메뉴 on/off*** -->
  <script>

  const sidemenuUl = document.querySelector('#side-menu ul');
  
  for(let i = 0; i < sidemenuUl.children.length; i++) {
    sidemenuUl.children[i].children[0].style.color = "#F9FFFE";
    sidemenuUl.children[i].children[0].style.transition = ".7s";
    sidemenuUl.children[0].children[0].style.opacity = 1;
    sidemenuUl.children[1].children[0].style.opacity = .6;
    sidemenuUl.children[0].children[0].style.textDecoration = "underline";
    sidemenuUl.children[1].children[0].style.textDecoration = "";
  }

// 클릭이벤트
sidemenuUl.addEventListener('click', function(event) {
  console.log(event.target);
  console.log(event.target.parentElement.dataset.index);
  console.log(typeof event.target.parentElement.dataset.index);
  let getIndexValue = Number(event.target.parentElement.dataset.index);
  console.log(typeof getIndexValue);
  

  console.log("반복문으로 활용할 인덱스 값을 마크업 속성노드에서 추출 :" + getIndexValue);
  for(let i = 0; i < sidemenuUl.children.length; i++) {
    if(getIndexValue !== i) {
        console.log(i);
        console.log("제외된 추출값 :" + getIndexValue);
        sidemenuUl.children[i].children[0].style.opacity = 0.6;
        sidemenuUl.children[i].children[0].style.color = "#F9FFFE";
        sidemenuUl.children[i].children[0].style.textDecoration = "none";
      } else {
        sidemenuUl.children[i].children[0].style.opacity = 1;
        sidemenuUl.children[i].children[0].style.color = "#F9FFFE";
        sidemenuUl.children[i].children[0].style.textDecoration = "underline";
      }
    }
});
  </script>




<!-- ***사이드메뉴 closed 누르면 '1. 종료된 행사 보이기', '2. 페이저 숨기기', '3. 랜턴 깜박'*** -->
  <script>
    const film = document.querySelector("#film");
    const sidemenuLi = document.querySelectorAll("#side-menu-ul li");
    const controls = document.querySelector("#controls");
    const slide = document.querySelector("#slide");
    const lantern = document.querySelector("#lantern");

    // info on
    sidemenuLi[1].onclick = function(e) {
      film.style.opacity = 1;
      film.style.zIndex = 1;
      slide.style.zIndex = 0;
      lantern.style.zIndex = 0;
      lantern.style.opacity = 0;
      controls.style.opacity = 0;
    }

    // info off
    sidemenuLi[0].onclick = function(e) {
      film.style.opacity = 0;
      film.style.zIndex = 0;
      slide.style.zIndex = 2;
      lantern.style.zIndex = 2;
      controls.style.opacity = 1;
      const blink0 = setTimeout(function(){
        lantern.style.opacity = 1;
      }, 530);
      const blink1 = setTimeout(function(){
        lantern.style.opacity = 0;
      }, 730);
      const blink2 = setTimeout(function(){
        lantern.style.opacity = 1;
      }, 830);
      const blink3 = setTimeout(function(){
        lantern.style.opacity = 0;
      }, 930);
      const blink4 = setTimeout(function(){
        lantern.style.opacity = 0;
      }, 1130);
      const blink5 = setTimeout(function(){
        lantern.style.opacity = 1;
      }, 1700);
      
    }
  </script>




  <!-- ***진입시 페이드효과, 랜턴 깜빡*** -->
  <script>
    const movieBg = document.querySelector("#movie-bg");

    movieBg.style.opacity = 1;

    // 페이드인
    const secondTime = setInterval(function(){
      if (movieBg.style.opacity == 1) {
        movieBg.style.opacity = 0;
        movieBg.style.transition = 1 + "s";
      } else {
        clearInterval(secondTime);
      }
    }, 500);

    // movieBG의 z-index 낮추기
    const zIndex0 = setTimeout(function(){
      movieBg.style.zIndex = 0;
      clearTimeout(zIndex0);
    }, 1200);

    // 랜턴 깜빡
      const blink0 = setTimeout(function(){
        lantern.style.opacity = 0;
      }, 1216);
      const blink1 = setTimeout(function(){
        lantern.style.opacity = 1;
      }, 1416);
      const blink2 = setTimeout(function(){
        lantern.style.opacity = 0;
      }, 1516);
      const blink3 = setTimeout(function(){
        lantern.style.opacity = 1;
      }, 1616);
      const blink4 = setTimeout(function(){
        lantern.style.opacity = 0;
      }, 1716);
      const blink5 = setTimeout(function(){
        lantern.style.opacity = 1;
      }, 1816);
      const blink6 = setTimeout(function(){
        lantern.style.opacity = 0;
      }, 1916);
      const blink7 = setTimeout(function(){
        lantern.style.opacity = 1;
      }, 2516);

    
  </script>
</body>
</html>